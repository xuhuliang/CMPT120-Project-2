<!DOCTYPE HTML>
<html>
<!-- Huliang Xu
     Introduction to Programming
     Project 3 - Text Adventure Game
     23 October 2012 -->
  <head>
    <title>Get out of the locked room!</title>
    <style>
      body {background-color:black;}
      .style1 {background-color:black; color:white;}
      .style2 {font-style:italic; font-weight:bold; color:brown;}
      .style3 {font-style:italic; font-weight:bold; color:green;}
      .white  {font-style:normal; font-weight:bold; color:white;}
    </style>
    <script type="text/JavaScript">
      var s1=5;
      var s2=0;
      var s3=0;
      var s4=0;
      var s5=0;
      var s6=0;
      var currentLocation = 1;
       function btn_direction_click(direction) {

          if (direction === 1) {
             if (currentLocation == 4) {
                currentLocation = 2;
                score2();
              } else if (currentLocation == 2) {
                currentLocation = 3;
                score3();
              }
                updateDisplay("Moving north");   
             } else if (direction === 2) {
                if (currentLocation == 2) {
                currentLocation = 1;
              } else if (currentLocation == 5) {
                currentLocation = 2;
                score2();
              } else if (currentLocation == 6) {
                currentLocation = 5;
                score5();
              }
                updateDisplay("Moving west");
             } else if (direction === 3) {
                if (currentLocation == 3) {
                currentLocation = 2;
                score2();
              } else if (currentLocation == 2) {
                currentLocation = 4;
                score4();
              }
                updateDisplay("Moving south");
             } else if (direction === 4) {
                if (currentLocation == 1) {
                currentLocation = 2;
                score2();
              } else if (currentLocation == 2) {
                currentLocation = 5;
                score5();
              } else if (currentLocation == 5) {
                currentLocation = 6;
                score6();
              }
                updateDisplay("Moving east");
             }
             else {
                updateDisplay("Error. Unknown direction: ");
             }
         }
       function updateDisplay(msg) {
          msg = msg + " [" + currentLocation + "]";
          var ga = document.getElementById("game");
          ga.value = msg + "\n" + ga.value;
       }
       function btn_go_click() {
           var userInput = document.getElementById("txtInput");
           if (userInput.value === "N" || userInput.value === "n") {
                btn_direction_click(1);
            }
            else if (userInput.value === "W" || userInput.value === "w") {
                btn_direction_click(2);
            }
            else if (userInput.value === "S" || userInput.value === "s") {
                btn_direction_click(3);
            }
            else if (userInput.value === "E" || userInput.value === "e") {
                btn_direction_click(4); 
            }
            else {
                updateDisplay("Error. Unknown direction: " + userInput.value);
                updateDisplay("The ONLY valid commands are N,W,S,E,n,w,s,e");
           }
       }
       function score1() {
          s1=5;
       }
       function score2() {
          s2=5;
       }
       function score3() {
          s3=5;
       }
       function score4() {
          s4=5;
       }
       function score5() {
          s5=5;
       }
       function score6() {
          s6=5;
       }
       function btn_score_click() {       
          alert(s1 + s2 + s3 + s4 + s5 + s6);       
       }
       function btn_map_click() {
          alert("    3" + "\n" + "1   2   5   6" + "\n" + "    4")
       }
    </script>
  </head>
  <body>
    <br>
    <textarea class="style1" id="game" rows="16" cols="60">You are locked inside a room, and now you are standing at location 1. Your score starts at 5 because you are at location 1.
    </textarea>
    <br>
         
    <input type="button" 
           value="North" 
           class="style2"
           id="north"
           onclick="btn_direction_click(1);">
                   
    <input type="button" 
           value="West" 
           class="style2"
           id="west"
           onclick="btn_direction_click(2);">
           
    <input type="button" 
           value="South" 
           class="style2"
           id="south"
           onclick="btn_direction_click(3);">           
            
    <input type="button" 
           value="East" 
           class="style2"
           id="east"
           onclick="btn_direction_click(4);">
           
    <input type="button" 
           value="score" 
           class="style3"
           onclick="btn_score_click();">

    <input type="button" 
           value="map" 
           class="style3"
           onclick="btn_map_click();">
    <br>
    <a class= "white">Enter command:
    </a>
    <input type="text" id="txtInput">
    
    <input type="button" 
           value="Go"
           class="style2"
           onclick="btn_go_click();">
    <br>

    <p>
     <a href="mailto:Tony.liang712@gmail.com">If you get stuck during the game, please click here to report the error.</a>
    </p>
  </body>
</html>